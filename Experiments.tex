\section{Experiments}
\label{sec:Experiments}

These algorithms and the resulting behaviors were implemented on a set of 12 Modified 3D M-Block modules. The control system which is running the experiments is described in Figure~\ref{fig:electroncsChart}.

\begin{figure}[ht]

	\input{electronicsChart.tex}
	
\caption{This figure illustrates the various avenues of information exchange between the different elements of the experimental setup. The \emph{orange} arrows represent bi-directional WIFI messages sent between the immobile \emph{Server Module} and the active modules, with the dashed line showing a potentially faulty connection. The \emph{blue} arrows show the simple light-based messages which active modules are able to send to neighbors that they are directly connected to. The \emph{purple} arrows represent the reading of \tagNamePlural~ between an active module and a valid and adjacently connected \tagName. Note that \tagNamePlural can be read from both passive modules, and from passive or even unresponsive modules.}
	
	\label{fig:electroncsChart}
\end{figure}

\begin{table}[h]
	\caption{Experimental results Table. The numbers marked with * are preliminary and will be refined after more review of the experimental data.}
	
	\begin{tabular}{ p{2.2cm}  p{1.2cm}  p{1.2cm} p{1.2cm}}
		\hline
		& experiments& Success & moves \\
		\hline
		Line Formation		&  6 		& *42/59		& *85\\
		Light Aggregation 	&  *1 		& *4/12 		& *20\\		
		Path Following		&  5 		& *1/1 		& *2 \\
		Extended Path		&  2		& *4/8		& *13\\
		
	\end{tabular}
	
	\label{tab:info}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Arrow Following experiments}
\label{sec:mblocksExperimentsArrow}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
This experiment tested the ability of the Modules to identify and follow the "arrows" embedded in in a set of passive and temporarily disabled active modules. The experiment consisted of a single module following the algorithm presented in Section~\ref{Behaviors}.

\begin{figure}[h]  
	\centering
	\begin{subfigure}[b]{0.23\linewidth}
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.97\linewidth]{figures/arrows_1.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.25,-0.5) {t = 2 s};
		\end{tikzpicture}
	\end{subfigure}
	\begin{subfigure}[b]{0.23\linewidth}
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.97\linewidth]{figures/arrows_2.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.25,-0.5) {t = 31 s};
		\end{tikzpicture}
	\end{subfigure}
	\begin{subfigure}[b]{0.23\linewidth}
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.97\linewidth]{figures/arrows_3.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.25,-0.5) {t = 66 s};
		\end{tikzpicture}
	\end{subfigure}
	\begin{subfigure}[b]{0.23\linewidth}
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.97\linewidth]{figures/arrows_4.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.25,-0.5) {t = 135 s};
		\end{tikzpicture}
	\end{subfigure}
	\caption{This experiment the cube following a very simple embedded arrow path. The module performing the experiment is preloaded with the angles for the tags with unique ID numbers, and apply these offsets in order to follow the path to the goal location (Upper right).}
	\label{fig:arrowExperiment}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Line formation experiments}
\label{sec:mblocksExperimentsLine}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

These experiments aimed to arbitrary 3D structures with constraints (no holes, and no modules connected by three or more connection faces) into a single horizontal line involving between 5 and 12 modules. These experiments were run with the aid a centralized WiFi server - whose function is to identify which module is the "seed" for the line. The server receives WiFi  status messages from the modules which includes their neighbors. The server attempts to find the longest existing line in the structure, and then picks one of the module closest to the center of that line, and sends a message to that module indicating that it is part of the line. 


\begin{figure}[h]  
	\centering
	\begin{subfigure}[b]{0.32\linewidth}
		\begin{tikzpicture}[]	
			\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.95\linewidth]{figures/ActualLine_1.png}};
			\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 0 s};
		\end{tikzpicture} 
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}
			\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.95\linewidth]{figures/ActualLine_2.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 30 s};
		\end{tikzpicture}
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}
			\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.95\linewidth]{figures/ActualLine_3.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 60 s};
		\end{tikzpicture}
	\end{subfigure}

	\begin{subfigure}[b]{0.32\linewidth}
			\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.95\linewidth]{figures/ActualLine_4.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 120 s};
		\end{tikzpicture}
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}
			\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.95\linewidth]{figures/ActualLine_5.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 230 s};
		\end{tikzpicture}
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}
			\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width=0.95\linewidth]{figures/ActualLine_6.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 300 s};
		\end{tikzpicture}
	\end{subfigure}
	
	\caption{This experiment shows an arbitrary 3D configuration of M-Blocks reconfiguring into a line.}
	
	\label{fig:lineExperiment}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Light guided aggregation experiments}
\label{sec:mblocksExperimentsLight}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


These experiments implement the photo-taxis Braitenberg behavior for a group of M-Blocks modules. There is a single light source, and a special target module, which when modules aggregate to it, the modules share its location through wireless and light signals for additional modules to connect to it - essentially forming a single "crystal" of aggregated modules. In these experiment modules are gradually released into a confined (0.5m x 0.5 m) bounded foam-padded location, and move until they either run out of battery or connect to the designated aggregate.

%\newcommand{\figureWidth}{0.32\linewidth}
\begin{figure}[h]  
	\centering
	\begin{subfigure}[b]{0.32\linewidth}
		
		\begin{tikzpicture}[]	
			\node[opacity = 0.95] at (0,0) {\includegraphics[width = \linewidth]{figures/1-000.png}};
			\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 000 s};
		\end{tikzpicture}
		
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}
		
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width = \linewidth]{figures/2-120.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 120 s};
		\end{tikzpicture}
		
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}

		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width = \linewidth]{figures/3-220.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 220 s};
		\end{tikzpicture}
		
	\end{subfigure}

	\begin{subfigure}[b]{0.32\linewidth}
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width = \linewidth]{figures/4-320.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 320 s};
		\end{tikzpicture}
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width = \linewidth]{figures/5-500.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 500 s};
		\end{tikzpicture} 
	\end{subfigure}
	\begin{subfigure}[b]{0.32\linewidth}
		\begin{tikzpicture}[]	
		\node[opacity = 0.95] at (0,0) {\includegraphics[width = \linewidth]{figures/6-600.png}};
		\node[opacity = 0.5, fill = white, rounded corners] at (-0.5,-0.5) {t = 600 s};
		\end{tikzpicture}
	\end{subfigure}
	
	\caption{This experiment illustrates the light guided aggregation behavior.}
	
	\label{fig:LightExperiment}
\end{figure}
